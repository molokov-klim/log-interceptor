# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤–Ω–µ—Å–µ–Ω–∏—é –≤–∫–ª–∞–¥–∞ –≤ LogInterceptor

–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–Ω—Ç–µ—Ä–µ—Å –∫ –ø—Ä–æ–µ–∫—Ç—É! –ú—ã —Ä–∞–¥—ã –ª—é–±–æ–º—É –≤–∫–ª–∞–¥—É.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –§–æ—Ä–∫ –∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub, –∑–∞—Ç–µ–º –∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ
git clone https://github.com/YOUR_USERNAME/log-interceptor.git
cd log-interceptor
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv .venv
source .venv/bin/activate  # –ù–∞ Windows: .venv\Scripts\activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
make install
# –∏–ª–∏
pip install -e ".[dev]"
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pre-commit hooks

```bash
make pre-commit
# –∏–ª–∏
pip install pre-commit
pre-commit install
```

## üìù –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ú—ã —Å–ª–µ–¥—É–µ–º –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ TDD (Test-Driven Development)

#### –¶–∏–∫–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
1. **RED** - –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–∞–¥–∞–µ—Ç
2. **GREEN** - –ù–∞–ø–∏—Å–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∞
3. **REFACTOR** - –£–ª—É—á—à–∏—Ç—å –∫–æ–¥, —Å–æ—Ö—Ä–∞–Ω—è—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤

### –ü—Ä–∏–º–µ—Ä:

```python
# 1. RED - –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç (tests/test_feature.py)
def test_new_feature():
    """–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ –¥–æ–ª–∂–Ω–∞ –¥–µ–ª–∞—Ç—å —Ñ–∏—á–∞"""
    result = new_feature(input_data)
    assert result == expected_output

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç - –æ–Ω –¥–æ–ª–∂–µ–Ω —É–ø–∞—Å—Ç—å
# pytest tests/test_feature.py::test_new_feature

# 2. GREEN - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å (log_interceptor/module.py)
def new_feature(input_data):
    return expected_output

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç - –æ–Ω –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏
# pytest tests/test_feature.py::test_new_feature

# 3. REFACTOR - –£–ª—É—á—à–∏—Ç—å –∫–æ–¥
# - –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
# - –£–ª—É—á—à–∏—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å
# - –î–æ–±–∞–≤–∏—Ç—å type hints
# - –î–æ–±–∞–≤–∏—Ç—å docstrings
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
make test

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
make test-cov

# –¢–æ–ª—å–∫–æ –±—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã
make test-quick

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
pytest tests/test_interceptor.py::test_interceptor_captures_new_lines -v
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ç–µ—Å—Ç–∞–º:
- ‚úÖ –ö–∞–∂–¥–∞—è –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å —Ç–µ—Å—Ç—ã
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ >= 90%
- ‚úÖ –¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ –∏ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å fixtures –∏–∑ `conftest.py`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `tmp_path` –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞

```bash
# –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–∫–∞–∫ –≤ CI)
make ci

# –û—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
make lint       # –õ–∏–Ω—Ç–∏–Ω–≥ —Å ruff
make format     # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
make typecheck  # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ —Å pyright
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–æ–¥—É:
- ‚úÖ –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ—Ö–æ–¥–∏—Ç—å `ruff check` –∏ `ruff format`
- ‚úÖ –ü–æ–ª–Ω—ã–µ type hints –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –º–µ—Ç–æ–¥–æ–≤
- ‚úÖ Docstrings –¥–ª—è –≤—Å–µ—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö API (Google style)
- ‚úÖ –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É `pyright`

## üìê –°—Ç–∏–ª—å –∫–æ–¥–∞

### Python –∫–æ–¥:
- –°–ª–µ–¥—É–µ–º PEP 8
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏: 120 —Å–∏–º–≤–æ–ª–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ –¥–ª—è —Å—Ç—Ä–æ–∫
- Imports —Å–æ—Ä—Ç–∏—Ä—É–µ–º —Å –ø–æ–º–æ—â—å—é ruff (isort)

### Docstrings:
```python
def function_name(param1: str, param2: int) -> bool:
    """–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏.
    
    –ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ.
    
    Args:
        param1: –û–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.
        param2: –û–ø–∏—Å–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.
        
    Returns:
        –û–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è.
        
    Raises:
        ValueError: –ö–æ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç —ç—Ç–∞ –æ—à–∏–±–∫–∞.
        
    Example:
        >>> function_name("test", 42)
        True
    """
    pass
```

## üîÄ Git Workflow

### 1. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É

```bash
git checkout -b feature/amazing-feature
# –∏–ª–∏
git checkout -b fix/bug-description
```

### 2. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

–°–ª–µ–¥—É–π—Ç–µ —Ü–∏–∫–ª—É TDD: Red ‚Üí Green ‚Üí Refactor

### 3. –ö–æ–º–º–∏—Ç—ã

–ò—Å–ø–æ–ª—å–∑—É–µ–º [Conventional Commits](https://www.conventionalcommits.org/):

```bash
# –§–æ—Ä–º–∞—Ç
<type>: <description>

[optional body]

[optional footer]
```

**–¢–∏–ø—ã –∫–æ–º–º–∏—Ç–æ–≤:**
- `feat:` ‚Äî –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- `fix:` ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞
- `docs:` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- `test:` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- `refactor:` ‚Äî —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–∞
- `style:` ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ–±–µ–ª—ã, —Ç–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π
- `perf:` ‚Äî —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- `chore:` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
git commit -m "feat: add RegexFilter class for log filtering"
git commit -m "fix: handle file rotation correctly"
git commit -m "docs: update README with callback examples"
git commit -m "test: add tests for buffer overflow scenarios"
```

### 4. Push –∏ Pull Request

```bash
git push origin feature/amazing-feature
```

–ó–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π—Ç–µ Pull Request –Ω–∞ GitHub.

## üìã Checklist –ø–µ—Ä–µ–¥ PR

- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (`make test`)
- [ ] –ü–æ–∫—Ä—ã—Ç–∏–µ >= 90% (`make test-cov`)
- [ ] –õ–∏–Ω—Ç–∏–Ω–≥ –ø—Ä–æ—Ö–æ–¥–∏—Ç (`make lint`)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –ø—Ä–æ—Ö–æ–¥–∏—Ç (`make typecheck`)
- [ ] –ö–æ–¥ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω (`make format`)
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã docstrings –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π/–∫–ª–∞—Å—Å–æ–≤
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω CHANGELOG.md (–¥–ª—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- [ ] PR –∏–º–µ–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

## üêõ –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–∞—Ö

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ issue –¥–ª—è –±–∞–≥–∞, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–∫–ª—é—á–∏—Ç–µ:

- –í–µ—Ä—Å–∏—é Python
- –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É
- –í–µ—Ä—Å–∏—é log-interceptor
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- Traceback (–µ—Å–ª–∏ –µ—Å—Ç—å)

**–®–∞–±–ª–æ–Ω:**
```markdown
**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã.

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –®–∞–≥ 1
2. –®–∞–≥ 2
3. ...

**–û–∫—Ä—É–∂–µ–Ω–∏–µ:**
- Python: 3.11.5
- OS: Ubuntu 22.04
- log-interceptor: 0.1.0

**–ö–æ–¥:**
\`\`\`python
# –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
\`\`\`

**–û–∂–∏–¥–∞–ª–æ—Å—å:**
–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã–ª–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏.

**–ü—Ä–æ–∏–∑–æ—à–ª–æ:**
–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ.
```

## üí° –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ issue –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:

- –û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É, –∫–æ—Ç–æ—Ä—É—é —Ä–µ—à–∞–µ—Ç —Ñ–∏—á–∞
- –ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ API –∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã

## üìö –†–µ—Å—É—Ä—Å—ã

- [–ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (TDD)](dev_plan.md)
- [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è](Technical%20specifications.md)
- [API Documentation](docs/API.md)
- [Python Type Hints](https://docs.python.org/3/library/typing.html)
- [pytest Documentation](https://docs.pytest.org/)

## ‚ùì –í–æ–ø—Ä–æ—Å—ã?

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã, —Å–æ–∑–¥–∞–π—Ç–µ issue —Å –º–µ—Ç–∫–æ–π `question` –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –º–µ–π–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏.

---

**–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –≤–∫–ª–∞–¥! üéâ**

